{
    "name": "Orphaned ACF Media",
    "slug": "orphaned-acf-media",
    "version": "1.3.1",
    "download_url": "https://plugins.citcom.support/orphaned-acf-media/orphaned-acf-media.zip",
    "homepage": "https://plugins.citcom.support/orphaned-acf-media/",
    "requires": "5.0",
    "tested": "6.8.3",
    "requires_php": "7.4",
    "author": "Gareth Hale, CitCom.",
    "author_profile": "https://citcom.co.uk",
    "last_updated": "2025-10-18 18:00:00",
    "sections": {
        "description": "A comprehensive WordPress plugin that finds and safely removes media files that are not used in any ACF (Advanced Custom Fields) fields. Features advanced safety checks, filtering, pagination, and bulk operations to help clean up unused attachments and free up server storage space.",
        "installation": "1. Upload the plugin to your /wp-content/plugins/ directory<br>2. Activate the plugin through the WordPress admin<br>3. Ensure Advanced Custom Fields (ACF) plugin is installed and activated<br>4. Navigate to Media > Orphaned ACF Media to start scanning<br>5. Review the comprehensive safety checks and backup warnings before proceeding<br>6. Use filters and pagination to efficiently manage large media libraries",
        "changelog": "<h4>1.3.1 - Bug Fixes &amp; User Experience Improvements</h4><br><ul><br><li><strong>Fixed Pagination Performance:</strong> Page navigation now instant with subtle opacity fade instead of showing full scanning progress</li><br><li><strong>Fixed \"Delete All Safe Files\" Button:</strong> Corrected property checking from safety_status to is_truly_orphaned for proper safe file detection</li><br><li><strong>Enhanced Error Messages:</strong> Improved user guidance with more descriptive messages for scan requirements and file states</li><br><li><strong>Better Button States:</strong> \"Delete All Safe Files\" now shows \"Scan Required\" when no scan data is available</li><br><li><strong>Improved User Feedback:</strong> Added specific notifications for different deletion scenarios and requirements</li><br><li><strong>Cache Consistency:</strong> Fixed cache handling issues to ensure reliable safe file detection across all operations</li><br><li><strong>UI Polish:</strong> Enhanced button initialization and state management for better user experience</li><br></ul><br><h4>1.3.0 - Performance Optimization &amp; WordPress Repository Compliance</h4><br><ul><br><li><strong>Comprehensive Caching System:</strong> Added wp_cache implementation for all database queries to significantly improve performance</li><br><li><strong>WordPress Repository Ready:</strong> Fixed all Plugin Check warnings and errors for WordPress.org submission</li><br><li><strong>Enhanced Input Validation:</strong> Improved $_POST handling with proper wp_unslash() and isset() checks</li><br><li><strong>SQL Security Hardening:</strong> Fixed all SQL preparation issues and properly escaped LIKE wildcards</li><br><li><strong>Performance Optimized:</strong> Added 5-minute caching for all media usage checks reducing database load</li><br><li><strong>Cache Management:</strong> Enhanced cache clearing with wp_cache_flush_group for organized cache control</li><br><li><strong>Method-Level Caching:</strong> Individual caching for ACF fields, content, widgets, customizer, and Oxygen Builder checks</li><br><li><strong>Scalability Improved:</strong> Better performance with large media libraries through intelligent caching strategies</li><br></ul><br><h4>1.2.2 - Critical Oxygen Builder 6 JSON Parsing</h4><br><ul><br><li><strong>Critical Fix:</strong> Now correctly parses the actual _oxygen_data meta field with complex JSON structure</li><br><li><strong>JSON Parser:</strong> Added comprehensive parsing for {\"tree_json_string\": \"...\"} structure used by Oxygen v6</li><br><li><strong>Media Pattern Detection:</strong> Detects media references in nested JSON including ID, filename, URL, and media object structures</li><br><li><strong>Recursive Search:</strong> Implements deep search through complex nested Oxygen element trees</li><br><li><strong>Database-Verified:</strong> Based on actual Oxygen v6 database structure analysis and testing</li><br></ul><br><h4>1.2.1 - Enhanced Oxygen Builder 6 Detection</h4><br><ul><br><li><strong>Critical Fix:</strong> Added proper support for Breakdance-based Oxygen Builder 6 meta fields</li><br><li><strong>New Meta Fields:</strong> Now checks _breakdance_data, breakdance_data, _breakdance_tree_json, and _breakdance_css</li><br><li><strong>Enhanced Templates:</strong> Added support for breakdance_template, breakdance_block, breakdance_header, and breakdance_footer post types</li><br><li><strong>Improved Detection:</strong> Enhanced CSS detection and cache file recognition</li><br><li><strong>Dual Support:</strong> Maintains classic Oxygen compatibility while adding full v6 support</li><br><li><strong>Better Plugin Recognition:</strong> Enhanced detection of both classic and Breakdance-based Oxygen Builder</li><br></ul><br><h4>1.2.0 - Oxygen Builder Integration</h4><br><ul><br><li><strong>Oxygen Builder Support:</strong> Comprehensive safety checks for Oxygen Builder content, templates, and reusable parts</li><br><li><strong>Multi-Storage Detection:</strong> Checks ct_builder_shortcodes, ct_builder_json, and all Oxygen content formats</li><br><li><strong>Template Protection:</strong> Scans Oxygen templates (ct_template) and user library parts (oxy_user_library)</li><br><li><strong>CSS/JS Safety:</strong> Detects media usage in Oxygen custom CSS, JavaScript, and compiled stylesheets</li><br><li><strong>Global Settings:</strong> Checks Oxygen VSB settings and global configurations for media references</li><br><li><strong>Enhanced Coverage:</strong> Now protects media used in 11+ different areas including page builders</li><br><li><strong>Auto-Detection:</strong> Automatically detects if Oxygen Builder is active on the website</li><br></ul>",
        "faq": "<h4>Is it safe to use this plugin?</h4><br><p>Yes! The plugin includes multiple layers of safety checks and will never delete a file that is actually in use. It checks ACF fields, featured images, post content, widgets, menus, theme customizer settings, and more. However, we always recommend creating a backup before any deletion operations.</p><br><h4>What file types does it support?</h4><br><p>The plugin works with all WordPress media file types including images (JPG, PNG, GIF, WebP, SVG), videos (MP4, AVI, MOV, etc.), audio files (MP3, WAV, OGG, etc.), PDFs, and documents (DOC, XLS, PPT, etc.).</p><br><h4>Can I filter the results?</h4><br><p>Yes! You can filter by file type and safety status. The filtering is done server-side so it works correctly across all paginated results.</p><br><h4>How does the bulk delete work?</h4><br><p>You can select individual files for bulk deletion, or use 'Delete All Safe Files' to remove all confirmed safe-to-delete files at once. The process includes progress tracking and detailed reporting.</p><br><h4>What if I have thousands of media files?</h4><br><p>The plugin is designed to handle large media libraries efficiently with pagination, caching, and batch processing. You can adjust the items per page setting (25-200) based on your server performance.</p><br><h4>Does it work with other plugins?</h4><br><p>The plugin specifically focuses on ACF field usage but also checks for usage in other common WordPress areas. It's compatible with most themes and plugins, though very specialized media usage might not be detected.</p>"
    },
    "banners": {
        "low": "https://plugins.citcom.support/orphaned-acf-media/plugin-assets/banner-772x250.jpg",
        "high": "https://plugins.citcom.support/orphaned-acf-media/plugin-assets/banner-1544x500.jpg"
    },
    "icons": {
        "1x": "https://plugins.citcom.support/orphaned-acf-media/plugin-assets/icon-128x128.jpg",
        "2x": "https://plugins.citcom.support/orphaned-acf-media/plugin-assets/icon-256x256.jpg"
    },
    "screenshots": [
        {
            "src": "https://plugins.citcom.support/orphaned-acf-media/plugin-assets/screenshot-1.jpg",
            "caption": "Main plugin interface with safety warnings and scan controls"
        },
        {
            "src": "https://plugins.citcom.support/orphaned-acf-media/plugin-assets/screenshot-2.jpg",
            "caption": "Results table with filtering options and pagination controls"
        },
        {
            "src": "https://plugins.citcom.support/orphaned-acf-media/plugin-assets/screenshot-3.jpg",
            "caption": "Detailed safety status information showing file usage across website"
        }
    ],
    "tags": [
        "media",
        "cleanup",
        "advanced-custom-fields",
        "attachments",
        "orphaned"
    ],
    "contributors": [
        "citcom"
    ],
    "donate_link": "https://citcom.support/donate",
    "upgrade_notice": {
        "1.3.1": "BUG FIXES UPDATE: Fixed pagination performance (now instant page navigation) and \"Delete All Safe Files\" button functionality. Enhanced error messages and user feedback for better experience. Recommended update for improved usability.",
        "1.3.0": "MAJOR PERFORMANCE UPDATE: Comprehensive caching system implemented! Significantly improved performance with wp_cache for all database queries. WordPress Plugin Repository compliant with all Plugin Check warnings resolved. Essential for large media libraries and better server performance.",
        "1.2.2": "CRITICAL FIX: Proper Oxygen Builder 6 JSON parsing! Now correctly parses the actual _oxygen_data field with complex nested JSON structures. Essential update for Oxygen Builder 6 users to prevent accidental media deletion.",
        "1.2.1": "CRITICAL FIX: Enhanced Oxygen Builder 6 detection! Now properly detects media used in Breakdance-based Oxygen Builder 6 with support for _breakdance_data and other v6 meta fields. Essential update for Oxygen Builder 6 users.",
        "1.2.0": "MAJOR FEATURE: Oxygen Builder integration! Now safely detects media used in Oxygen Builder content, templates, reusable parts, CSS, and global settings. Essential for Oxygen users to prevent accidental deletion of builder assets.",
        "1.1.0": "Major UX improvements! Auto-applying filters, scan progress indicator, Media Library integration, and smart button states. Enhanced interface makes media cleanup even more intuitive and efficient.",
        "1.0.0": "Initial release with comprehensive media cleanup features, advanced safety checks, and efficient bulk operations. Perfect for cleaning up unused ACF media files."
    },
    "compatibility": [
        {
            "version": "6.4",
            "status": "compatible"
        },
        {
            "version": "6.3",
            "status": "compatible"
        },
        {
            "version": "6.2",
            "status": "compatible"
        },
        {
            "version": "6.1",
            "status": "compatible"
        },
        {
            "version": "6.0",
            "status": "compatible"
        }
    ],
    "active_installs": 0,
    "downloaded": 0,
    "rating": 0,
    "num_ratings": 0,
    "support_threads": 0,
    "support_threads_resolved": 0,
    "added": "2025-10-17",
    "stable_tag": "1.3.1",
    "trunk": "https://plugins.citcom.support/orphaned-acf-media/orphaned-acf-media-trunk.zip"
}